/* -------- imports (keep) -------- */
@import url('../base.css');
@import url('../sections/currentJokeCard.css');
@import url('../sections/section-hero.css');
@import url('../sections/section-search.css');
@import url('../sections/section-top-stories.css');

/* =================================
   FEED (right column) UI
================================= */

/* Tabs row — style like chips */
.tabs{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  padding:12px 0 16px;
  border:0;                 /* remove old bottom border */
  overflow-x:visible;       /* no horizontal scrollbar look */
}

.tab{
  appearance:none;
  border:1px solid #DADDE1;
  background:#F5F6F7;
  color:#222;
  font-weight:700;          /* keep bold like your old tabs */
  font-size:13px;           /* match chips */
  text-decoration:none;
  padding:6px 12px;         /* match chips */
  border-radius:999px;      /* pill shape */
  line-height:1.1;
  position:relative;
}

/* Active tab = stronger pill (no underline bar) */
.tab[aria-selected="true"],
.tab.is-active{
  background:#ECEEF1;
  border-color:#C9CDD3;
}

/* Hover/focus like chips */
.tab:hover{ background:#ECEEF1; }
.tab:focus-visible{
  outline:2px solid #2f7fff; outline-offset:2px;
}

/* Remove legacy underline */
.tab.is-active::after{ content:none; }

/* Dark mode to mirror .chip */
.dark .tabs{ border-color:transparent; }
.dark .tab{
  background:#1b1b1b; color:#ddd; border-color:#2a2a2a;
}
.dark .tab:hover{ background:#222; }
.dark .tab[aria-selected="true"],
.dark .tab.is-active{
  background:#222; border-color:#3a3a3a;
}

/* Chips row (unchanged) */
.chips{
  display:flex; flex-wrap:wrap; gap:8px;
  padding:12px 0 16px;
}
.chip{
  padding:6px 12px; border-radius:999px; font-size:13px; text-decoration:none;
  background:#F5F6F7; color:#222; border:1px solid #DADDE1; font-weight:600;
}
.chip:hover{ background:#ECEEF1; }
.chip--small{ padding:4px 10px; font-size:12px; font-weight:600;}
.dark .chip{ background:#1b1b1b; color:#ddd; border-color:#2a2a2a; }
.dark .chip:hover{ background:#222; }
.chip:focus-visible{
  outline:2px solid #2f7fff; outline-offset:2px;
}

/* Post card */
.post-card{
  background:#fff; border:1px solid #e9e9e9; border-radius:14px;
  overflow:hidden; box-shadow:0 1px 0 rgba(0,0,0,.04);
}
.dark .post-card{ background:#151515; border-color:#262626; }

/* Header */
.post-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:12px 14px 8px;
}
.post-channel{ display:flex; align-items:center; gap:8px; color:#666; }
.post-channel strong{ color:#222; }
.post-channel .dot{ opacity:.6; }
.post-chip{
  --c:#777; width:22px; height:22px; border-radius:6px;
  display:grid; place-items:center; color:#fff; background:var(--c);
  font-size:12px; line-height:1;
}
.post-actions .icon{
  background:none; border:0; color:#999; font-size:18px; cursor:pointer;
}
.post-actions .icon:hover{ color:#666; }
.dark .post-channel{ color:#b3b3b3; }
.dark .post-channel strong{ color:#eaeaea; }
.dark .post-actions .icon{ color:#b1b1b1; }
.dark .post-actions .icon:hover{ color:#ddd; }

.dark .chip{
  background:#1b1b1b; border-color:#2a2a2a; color:#EAEAEA;
}
.dark .chip:hover{ background:#222; }

/* Title */
.post-title{
  margin:0 14px 10px; font-size:22px; line-height:1.25; color:#111;
}
.dark .post-title{ color:#fff; }

/* Media */
.post-media{ padding:0 14px 12px; }
.post-media img,
.post-media video{
  width:100%; display:block; border-radius:10px;
  background:#000;
}

/* Tags under media (optional) */
.post-tags{ padding:8px 14px 0; display:flex; gap:8px; flex-wrap:wrap; }

/* Footer actions */
.post-foot{
  display:flex; align-items:center; gap:14px; flex-wrap:wrap;
  padding:12px 14px 14px;
  color:#8a8a8a;
}
.act{
  background:none; border:0; color:inherit;
  display:inline-flex; gap:6px; align-items:center; cursor:pointer;
  font:inherit;
}
.act .ico{ font-size:16px; }
.act-spacer{ flex:1; }

/* =================================
   (Legacy sections: keep styles if used)
   If you still render .section-hero / .section-search,
   these keep their full-width look inside .feed.
================================= */
.section-hero{
  background-color:#f9f9f9;
  padding:4rem 2rem;
  text-align:center;
}
.section-search{
  background:#f0f0f0;
  padding:3rem 2rem;
  text-align:center;
}

/* Optional: tighten spacing inside .feed on small screens */
@media (max-width: 640px){
  .post-title{ font-size:20px; }
  .tabs{ gap:16px; } /* slightly looser on small screens */
}

/* =================================
   HOME main column → 3 rows
   (Row 1: .tabs, Row 2: .chips, Row 3: [data-feed])
================================= */
.home{
  display:grid;
  grid-template-rows: auto auto 1fr; /* tabs, chips, feed grows */
  gap:12px;
  min-height:100%;
}

/* Feed region grows and keeps a pleasant min height while loading */
[data-feed]{
  min-height:40vh;
  display:grid;
  gap:12px;
}

/* =================================
   Optional: loading skeletons
================================= */
.skeleton-list{ display:grid; gap:12px; }
.skeleton-card{
  border-radius:14px;
  border:1px solid #e9e9e9;
  background:
    linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.04) 50%, rgba(0,0,0,0) 100%) 0/200% 100%,
    #f6f7f9;
  height:140px;
  animation: shimmer 1.2s infinite linear;
}
@keyframes shimmer{
  0%{ background-position: 0% 0; }
  100%{ background-position: 200% 0; }
}

.dark .skeleton-card{
  border-color:#262626;
  background:
    linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.06) 50%, rgba(255,255,255,0) 100%) 0/200% 100%,
    #161616;
}

/* =================================
   Responsive tweaks
================================= */
@media (max-width: 640px){
  .home{ gap:10px; }
  [data-feed]{ min-height:35vh; }
  .tabs{ gap:16px; }
}
